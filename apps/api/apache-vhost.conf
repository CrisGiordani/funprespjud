<VirtualHost *:80>
    ServerName localhost

    # Configurações de timeout
    Timeout 30

    DocumentRoot /var/www/html/public
    <Directory /var/www/html/public>
        AllowOverride All
        Require all granted

        # Remove TODOS os headers CORS - deixa o Symfony/nelmio_cors gerenciar completamente
        <IfModule mod_headers.c>
            Header unset Access-Control-Allow-Origin
            Header unset Access-Control-Allow-Methods
            Header unset Access-Control-Allow-Headers
            Header unset Access-Control-Allow-Credentials
            Header unset Access-Control-Expose-Headers
            Header unset Access-Control-Max-Age
        </IfModule>

        # Configuração específica para o header Authorization
        SetEnvIf Authorization "(.*)" HTTP_AUTHORIZATION=$1
    </Directory>

    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>
